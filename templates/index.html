<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dictionary App</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 2em; }
        input, button { margin: 0.5em; }
        .result { margin-top: 1em; font-weight: bold; }
    </style>
</head>
<body>
    <h1>Dictionary App</h1>
    <div>
        <h2>Add Entry</h2>
        <input id="add-key" placeholder="Key">
        <input id="add-value" placeholder="Value">
        <button onclick="addEntry()">Add</button>
    </div>
    <div>
        <h2>Lookup Entry</h2>
        <input id="lookup-key" placeholder="Key">
        <button onclick="lookupEntry()">Lookup</button>
    </div>
    <div>
        <h2>Update Entry</h2>
        <input id="update-key" placeholder="Key">
        <input id="update-value" placeholder="New Value">
        <button onclick="updateEntry()">Update</button>
    </div>
    <div>
        <h2>Delete Entry</h2>
        <input id="delete-key" placeholder="Key">
        <button onclick="deleteEntry()">Delete</button>
    </div>
    <div class="result" id="result"></div>
    <script>
        async function addEntry() {
            const key = document.getElementById('add-key').value;
            const value = document.getElementById('add-value').value;
            const res = await fetch('/add', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ key, value })
            });
            const data = await res.json();
            showResult(data.result);
        }
        async function lookupEntry() {
            const key = document.getElementById('lookup-key').value;
            const res = await fetch(`/lookup?key=${encodeURIComponent(key)}`);
            const data = await res.json();
            showResult(data.result);
        }
        async function updateEntry() {
            const key = document.getElementById('update-key').value;
            const value = document.getElementById('update-value').value;
            const res = await fetch('/update', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ key, value })
            });
            const data = await res.json();
            showResult(data.result);
        }
        async function deleteEntry() {
            const key = document.getElementById('delete-key').value;
            const res = await fetch('/delete', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ key })
            });
            const data = await res.json();
            showResult(data.result);
        }
        function showResult(msg) {
            document.getElementById('result').textContent = msg;
        }
    </script>
</body>
</html>
